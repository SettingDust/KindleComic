{"meta":{"title":"尘埃小屋","subtitle":null,"description":null,"author":"SettingDust","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"Hexo首页文章显示部分","slug":"Hexo首页文章显示部分","date":"2018-09-28T08:57:00.000Z","updated":"2018-09-28T09:05:39.667Z","comments":true,"path":"2018/09/28/Hexo首页文章显示部分/","link":"","permalink":"http://yoursite.com/2018/09/28/Hexo首页文章显示部分/","excerpt":"","text":"Hexo首页的部分显示是通过文章之中&lt;!--more--&gt;来判断是否隐藏之后文本网络搜寻一些方法可以实现，但是代码方面有些问题，自己实现一次，不算困难这里使用的是material-flow主题在post.ejs中可以看到(post.excerpt || post.content)这样一行代码，显示了文本内容，我只要在这里加一个判断即可鉴于我经常换行，就敲定显示5行，即5个换行符代码如下123456789101112&lt;% if (post.excerpt) &#123; %&gt; &lt;%- post.excerpt %&gt;&lt;% &#125; else &#123; %&gt; &lt;% let i = post.content.indexOf(&quot;\\n&quot;) %&gt; &lt;% for(let j = 0;j &lt; 5;j++)&#123; %&gt; &lt;% i = post.content.indexOf(&quot;\\n&quot;, i + 1) %&gt; &lt;% &#125; %&gt; &lt;% post.content.substring(0, i) %&gt; &lt;div class=&quot;readmore&quot;&gt; &lt;a href=&quot;&lt;%- url_for(post.path) %&gt;&quot;&gt;阅读全文&lt;/a&gt; &lt;/div&gt;&lt;% &#125; %&gt;","categories":[{"name":"开发","slug":"开发","permalink":"http://yoursite.com/categories/开发/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"},{"name":"前端","slug":"前端","permalink":"http://yoursite.com/tags/前端/"}]},{"title":"《『乙女が結ぶ月夜の煌めき』 体験版》解包记录","slug":"《『乙女が結ぶ月夜の煌めき』-体験版》解包记录","date":"2018-09-28T04:05:00.000Z","updated":"2018-09-28T08:46:29.587Z","comments":true,"path":"2018/09/28/《『乙女が結ぶ月夜の煌めき』-体験版》解包记录/","link":"","permalink":"http://yoursite.com/2018/09/28/《『乙女が結ぶ月夜の煌めき』-体験版》解包记录/","excerpt":"","text":"通过游戏目录的查看，可以明显发现arc文件是资源文件，猜测Rio及Rio1为文本文件。首先尝试BandZip打开，明显不行23333333333 经过几个工具的测试，最终确认GARbro对新手很友好，非常容易，效果也ok，针对此游戏可用。直接提取到文件夹（此处建议解压到一个新的Rio文件夹中），发现文本为ws2文件，搜索如何解包 使用Notepad++ 的HexEditor查看文件，初步怀疑文本经过加密，寻找可用工具找到了FuckGalEngine项目下的ahdprc，github需要编译使用这里我最终使用了ahdprc命令行方式解包，但是GARbro相对没有编程基础的朋友更友好 把ahdprc和Rio.ws2放到同一文件夹执行如下命令12ahdprc arc Rio.arc -u -cahdprc ror -n 2 Rio\\*.ws2 两行代码就可以，第二行为位移GARbro会提取之后自动位移，这也是为什么更友好的原因ahdprc的编译浪费了很久的时间，一个神奇的错误，最终使用了一个编译成功的exe，文章末附上 以上解包arc完成，两种方法都可以，注意我解压的Rio1，重命名为Rio，名字不对不知为什么不可以解包。当然GARbro没有这个问题 按照顺序运行如下命令12md txtmd bin 创建两个文件夹 for %i in (Rio\\*.ws2) do ahdprc ws2 -i %i -t txt\\%~ni.txt -b bin\\%~nxi不是批处理哦注意这里，如果你是使用我上面的代码输出当然不用担心，如果没有，而且没有解压到Rio文件夹中，那就要修改Rio为你的路径了。这步成功之后查看txt文件夹，翻译即可 格式就是空心原文实心译文 123for %i in (txt\\*.txt) do ahdprc ws2 %i -o tf\\%~nximd Chsfor %i in (bin\\*.ws2) do ahdprc ws2 -b %i -t tf\\%~ni.txt -o Chs\\%~nxi 1&gt;&gt; log.txt 此步生成的log.txt会记录具体哪些行需要在新的字体中表现出来，做替换列表 ahdprc rep -l rep.txt tf\\*.txt 做好替换列表使用此命令进行替换 替换之后再次使用for %i in (bin\\*.ws2) do ahdprc ws2 -b %i -t tf\\%~ni.txt -o Chs\\%~nxi 1&gt;&gt; log.txt生成日志文件查看，循环直到正常为止 如果解包后文件存在非ws2文件，复制到Chs文件夹中，可以手动也可以继续命令行copy Rio\\Pan.dat Chs\\Pan.dat 最后一步，封包ahdprc arc -r Chs -c 至此，全部完成，但是替换列表目前不太清楚是什么，需要具体操作了。 2018/9/28 - 16:15","categories":[{"name":"Galgame","slug":"Galgame","permalink":"http://yoursite.com/categories/Galgame/"}],"tags":[{"name":"Galgame","slug":"Galgame","permalink":"http://yoursite.com/tags/Galgame/"},{"name":"技术","slug":"技术","permalink":"http://yoursite.com/tags/技术/"},{"name":"记录","slug":"记录","permalink":"http://yoursite.com/tags/记录/"}]}]}